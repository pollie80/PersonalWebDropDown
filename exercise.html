<!DOCTYPE html>
<html>
    <head>
        <link href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=Patua+One&display=swap" rel="stylesheet">
        <link rel="stylesheet" type="text/css" href="CSS/styles.css" >
        <title>Tian's Gym Schedule | Tian Welgemoed</title>
        <header>Fitness!</header>
    </head>
    <body>
        <div id="nav">
            <div id="navbutton">
                <img src="img/navbut.png" id="navpic">
            </div>
            <div id="navcontent">
                <p class="navoption"><a class="navlink" href="index.html">Home</a></p>
                <p class="navoption"><a class="navlink" href="https://github.com/pollie80/">My GitHub</a></p>
                <p class="navoption"><a class="navlink" href="https://www.linkedin.com/in/tian-welgemoed">My LinkedIn</a></p>
                <p class="navoption"><a class="navlink" href="contactme.html">Contact me!</a></p>
            </div>
        </div>

        <div id="main">
            <p>
                The API is <a href="https://my-gym-api.herokuapp.com/days">HERE</a> if you'd like to check it out!
            </p>
            <table>
                <thead>
                    <tr>
                        <th>Day</th>
                        <th>Muscle Group</th>
                        <th>Exercises</th>
                    </tr>
                </thead>
                <tbody id="data">
        
                </tbody>
            </table>

            <script>
                document.getElementById("data").innerHTML = "Loading...(allow up to 5 seconds please)";
                //jquery code - based on https://www.youtube.com/watch?v=WMQ2sq1dw6Y
                fetch("https://my-gym-api.herokuapp.com/days").then(
                    res=>{
                        res.json().then(
                            data=>{
                                // console.log(data); //testing
                                if(data.length > 0){
                                    //html
                                    var tablecontent = "";
        
                                    // create rows
                                    data.forEach((d) => {
                                        tablecontent += "<tr>";
                                        tablecontent += "<td>"+d.day+"</td>";
                                        tablecontent += "<td>"+d.bodycategory+"</td>";
                                        tablecontent += "<td> | ";
                                        d.exercises.forEach((e)=>{tablecontent += e+" | ";});
                                        tablecontent += "</td></tr>";
                                    });
        
                                    //display i guess
                                    document.getElementById("data").innerHTML = tablecontent;
                                }
                                else {
                                    document.getElementById("data").innerHTML = "<p>Sorry, the API has been taken down :( </p>";
                                }
                            }
                        )
                    }
                )
            </script>
        </div>

        <footer>
            <p class="navoption"><a class="navlink" href="index.html">Home</a></p>
            <p class="navoption"><a class="navlink" href="https://github.com/pollie80/">My GitHub</a></p>
            <p class="navoption"><a class="navlink" href="https://www.linkedin.com/in/tian-welgemoed">My LinkedIn</a></p>
            <p class="navoption"><a class="navlink" href="contactme.html">Contact me!</a></p>
        </footer>
    </body>
</html>